<section>
  <form [formGroup]="profileForm" (ngSubmit)="onSubmit()" class="profile-form">
    <div class="form-group">
      <h6>Foto de Perfil:</h6>
      <label class="photo" for="photo">
        <img title="Change" [src]="uploadedPhoto || user().profilePicture || 'user.png'" alt="Perfil">
      </label>
      <input style="display: none;" type="file" id="photo" (change)="onFileUpload($event)">
    </div>
    
    <div class="form-group">
      <label for="name">Nombre:</label>
      <input type="text" id="name" formControlName="name" placeholder="Nombre">
      <p *ngIf="profileForm.get('name')?.invalid && profileForm.get('name')?.touched" class="error">
        El nombre debe tener al menos 3 caracteres.
      </p>
    </div>
  
    <div class="form-group">
      <label for="biography">BiografÃ­a:</label>
      <textarea placeholder="BiografÃ­a" style="min-height: 50px;" id="biography" formControlName="biography"></textarea>
      <p *ngIf="profileForm.get('biography')?.invalid && profileForm.get('biography')?.touched" class="error">
        La biografÃ­a no debe exceder los 500 caracteres.
      </p>
    </div>
  
    <div class="form-group">
      <label for="password">ContraseÃ±a Nueva:</label>
      <div class="password-container">
        <input [type]="passwordType" placeholder="ContraseÃ±a" id="password" formControlName="password">
        <button type="button" class="toggle-password" (click)="togglePasswordVisibility()">
          ğŸ‘ï¸
        </button>
      </div>
      <p *ngIf="profileForm.get('password')?.invalid && profileForm.get('password')?.touched" class="error">
        La contraseÃ±a debe tener al menos 8 caracteres.
      </p>
    </div>
  
    <div class="form-group">
      <label for="confirmPassword">Confirmar ContraseÃ±a:</label>
      <div class="password-container">
        <input [type]="confirmPasswordType" placeholder="Confirmar ContraseÃ±a" id="confirmPassword" formControlName="confirmPassword">
        <button type="button" class="toggle-password" (click)="toggleConfirmPasswordVisibility()">
          ğŸ‘ï¸
        </button>
      </div>
      <p *ngIf="profileForm.hasError('notSame')" class="error">
        Las contraseÃ±as no coinciden
      </p>
    </div>  
  </form>
  <div class="final-btns">
    <button type="submit" (click)="onSubmit()">Guardar cambios</button>
    <a [routerLink]="['/home']">Volver</a>
  </div>
</section>
